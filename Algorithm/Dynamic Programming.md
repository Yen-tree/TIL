# :milky_way: 다이나믹 프로그래밍 Dynamic Programming (DP)

- 다이나믹 프로그래밍이란 큰 문제를 작게 나누고, 같은 문제라면 한 번씩만 풀어 문제를 효율적으로 해결하는 알고리즘 기법이다.
- 다이나믹 프로그래밍을 이용하면 메모리 공간을 약간 더 사용해 **연산 속도를 비약적으로 증가**시킬 수 있다.

> DP의 다이나믹은 동적 할당의 다이나믹(프로그램이 실행되는 도중에)이랑은 다른 의미이다.



## 다이나믹 프로그래밍을 사용할 수 있는 조건

1. 큰 문제를 작은 문제로 나눌 수 있다.
2. 작은 문제에서 구한 정답은 그것을 포함하는 큰 문제에서도 동일하다.



## 다이나믹 프로그래밍의 2가지 방식

- 탑다운Top-Down 방식(하향식)

  - 재귀함수를 이용해 큰 문제를 해결하기 위해 작은 문제를 호출

  - **메모이제이션**은 탑다운 방식에 국한되어 사용하는 표현

    >- 메모이제이션과 다이나믹 프로그래밍은 별개의 개념!
    >
    >- 메모이제이션: 이전에 계산된 결과를 일시적으로 기록해놓는 넓은 개념
    >  - 연속적이지 않은 문제의 경우 dict 자료형 이용할 수 있다.

  - ex) 피보나치 수열

    ```python
    d = [0]*100  # 메모이제이션을 위한 리스트 초기화
    
    def fibo(x):
        if x == 1 or x == 2:
            return 1
        if not d[x]:  # 아직 계산하지 않은 문제라면 점화식에 따라 계산
            d[x] = fibo(x-2) + fibo(x-1)
        return d[x]
    ```

    

- 보텀업Bottom-Up 방식(상향식)

  - 반복문을 이용해 작은 문제부터 차근차근 답을 도출

  - **다이나믹 프로그래밍의 전형적인 형태**

  - 보텀업 방식에서 사용되는 결과 저장용 리스트를 -> **DP테이블**이라고 부름

  - ex) 피보나치 수열

    ```python
    d = [0]*100  # 계산 결과를 저장하기 위한 dp테이블 초기화
    
    d[1] = 1  # 1,2항의 값은 1
    d[2] = 1
    
    for i in range(3, 100):  # 반복문으로 보텀업
        d[i] = d[i-2] + d[i-1]
        
    print(d[99])
    ```

    

## DP문제 풀이 방법

1. 주어진 문제가 다이나믹 프로그래밍 유형임을 파악

   - 완전 탐색 알고리즘으로 접근했을 때 시간이 매우 오래 걸리면, 부분 문제들의 중복 여부를 확인해보자

2. 일단 단순히 재귀함수로 작성한 뒤에, 탑다운 메모이제이션을 적용해 코드를 개선하는 방법도 좋은 아이디어다.

3. 가능하다면 탑다운보다는 보텀업 방식으로 구현하는 것을 권장한다. 탑다운은 시스템상 재귀 함수의 스택 크기가 한정되어 있을 수 있기 때문. (recursion depth)

   > 재귀 제한을 늘리려면
   >
   > ```python
   > import sys
   > sys.setrecursionlimit(10 ** 6)
   > ```
   >
   > - 파이썬의 기본 재귀 깊이 제한은 1000으로 얕은 편